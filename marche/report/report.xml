<?xml version="1.0" encoding="utf-8"?>

<odoo>


    <record model="ir.actions.report" id="report_soumis">
        <field name="name">Imprimer la liste</field>
        <field name="model">liste.marche.soumis</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">marche.liste_marche_soumis</field>
        <field name="report_file">marche.liste_marche_soumis</field>
        <field name="binding_model_id" ref="model_liste_marche_soumis"/>
        <field name="binding_type">report</field>
    </record>


    <template id="liste_marche_soumis">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.internal_layout">
                    <t t-foreach="o.liste_ids" t-as="l">
                            <table style="border: 3px solid black; border-collapse : collapse;">
                                <tr style="border: 3px solid black;">
                                    <th>Intutulé du marché</th>
                                    <th>Structure demandeuse</th>
                                    <th>Type du marché</th>
                                    <th>Date de dépot</th>
                                </tr>
                                <tr style="border: 3px solid black;">
                                    <td><span t-field='l.intitule'/></td>
                                    <td><span t-field='l.structure_id.name'/></td>
                                    <td><span t-field='l.type_id'/></td>
                                    <td><span t-field='l.date_depot'/></td>
                                </tr>
                            </table>
                    </t>
                </t>
            </t>
        </t>
    </template>





    <record model="ir.actions.report" id="report_obtenue">
            <field name="name">Imprimer la liste</field>
            <field name="model">liste.marche.obtenue</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">marche.liste_marche_obtenue</field>
            <field name="report_file">marche.liste_marche_obtenue</field>
            <field name="binding_model_id" ref="model_liste_marche_obtenue"/>
            <field name="binding_type">report</field>
    </record>


    <template id="liste_marche_obtenue">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-call="web.internal_layout">
                    <t t-foreach="o.obtenue_ids" t-as="l">
                        <table style="border: 3px solid black; border-collapse : collapse;">
                                <tr style="border: 3px solid black;">
                                    <th>Intutulé du marché</th>
                                    <th>Structure demandeuse</th>
                                    <th>Type du marché</th>
                                    <th>Budget</th>
                                    <th>Durée de la mission</th>
                                </tr>
                                <tr style="border: 3px solid black;">
                                    <td><span t-field='l.intitule'/></td>
                                    <td><span t-field='l.structure_id.name'/></td>
                                    <td><span t-field='l.type_id'/></td>
                                    <td><span t-field='l.budget'/></td>
                                    <td><span t-field='l.dure'/></td>
                                </tr>
                        </table>
   
                    </t>
                </t>
            </t>
        </t>
    </template>
</odoo>